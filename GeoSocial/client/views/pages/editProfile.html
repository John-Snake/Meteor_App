<template name="editProfile">

    <div class="confirmation" id="confirmation">Confirmation!</div>
    <div class="alert" id="alert">Error.</div>
    <div class="info" id="info">Info here.</div>
    
    <form class="signUp" id="changeEmail">
        <p class="form-title">Change email</p>
        <label for="email">New Email : </label>
        <div><input type="email" id="email" value="{{currentUser.emails.[0].address}}" autocomplete="off" required></div>
        <input type="submit" value="Change email" class="btn btn-success btn-sm">
    </form>

    <form class="signUp" id="changePassword">
        <p class="form-title">Change password</p>
        <div><input type="password" id="oldPassword" placeholder="Current password" required></div>
        <div class="forgot-pass-content text-right">
            <a href="/resetPassword">Forgot password?</a><br><br>
        </div>
        <div><input type="password" id="newPassword" placeholder="New password" required></div>
        <div><input type="password" id="passwordConfirmation" placeholder="Confirm new password" required></div>
        <input type="submit" value="Change password" class="btn btn-success btn-sm">
    </form>

    <form class="signUp" id="changeUsername">
        <p class="form-title">Change username</p>
        <label for="text">New username : </label>
        <div><input type="text" id="username" value="{{currentUser.username}}" onkeyup="formatUsername(this)" required></div>
        <input type="submit" value="Change username" class="btn btn-success btn-sm">
    </form>

    <form class="signUp" id="editProfile">
        <p class="form-title">Edit profile</p>
        <label for="name">Nome : </label>
        <div><input type="text" id="name" value="{{currentUser.profile.name}}"></div>
        <label for="surname">Cognome : </label>
        <div><input type="text" id="surname" value="{{currentUser.profile.surname}}"></div>
        <label for="telegram_username">Telegram : </label>
        <div><input type="text" id="telegram_username" value="{{currentUser.profile.telegram_username}}"></div>
        <label for="birth">Birth : </label>
        <div>{{> datePicker date=currentUser.profile.birth}}</div>
        
        <br>
        <label for="gender">Gender : </label>
        <div id="gender">
            <div class="container">
                <div class="row">
                    <div class="col-md-2">
                        <input type="radio" value="Male" name="gender" id="user_male" {{isMale}}/>
                        <label for="user_male">Male</label>
                    </div>    
                    <div class="col-md-2">
                        <input type="radio" value="Female" name="gender" id="user_female" {{isFemale}}/>
                        <label for="user_female">Female</label>
                    </div>
                    </div>
                <div class="row">
                    <div class="col-md-2">
                        <input type="radio" value="Unknown" name="gender" id="user_unknown" {{isUnknown}}/>
                        <label for="user_unknown">Unknown</label>
                    </div>
                    <div class="col-md-2">
                        <input type="radio" value="Transgender" name="gender" id="user_transgender" {{isTransgender}}/>
                        <label for="user_transgender">Transgender</label>
                    </div>
                </div>      
            </div>
        </div>
        
        <br>

       <div id= "privacy">
            <label for="user_privacy" id="label_user_privacy">
                Privacy: <span style="color:{{privacyColor(currentUser.profile.privacy)}}">{{privacyValue(currentUser.profile.privacy)}} level</span>
            </label>
            <input min="0" max="2" type="range" name="privacy" id="user_privacy" value="{{currentUser.profile.privacy}}" onchange="privacyInfoUpdate(this);"/>
            <p id="privacyInfo">{{privacyInfo(currentUser.profile.privacy)}}</p>
        </div>

        <input type="submit" value="Edit Profile" class="btn btn-success btn-sm">
    </form>
           
    <form class="signUp text-center">
        <p class="form-title">Delete account</p>
        <p style="font-size:1.2em;">Warning, this operation cannot be undone!<br>It will also delete all your posts and comments.</p>
        <input class="btn btn-danger btn-sm" type="button" id="deleteAccount" value="Delete account" />
    </form>     

</template>